<div id="project-actions-table">
  {% if actions %}
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Status</th>
          <th>Owner</th>
          <th>Champion</th>
          <th>Due date</th>
          <th>Days late</th>
          <th>Created at</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for action in actions %}
          <tr>
            <td><a href="/ui/actions/{{ action.id }}">{{ action.title }}</a></td>
            <td><span class="status-badge status-{{ action.status|lower }}">{{ action.status }}</span></td>
            <td>{{ action.owner }}</td>
            <td>{{ action.champion }}</td>
            <td>{{ action.due_date }}</td>
            <td>{{ action.days_late }}</td>
            <td>{{ action.created_at }}</td>
            <td>
              <form
                hx-post="/ui/projects/{{ project.id }}/actions/{{ action.id }}/remove"
                hx-target="#project-actions-manager"
                hx-swap="outerHTML"
                hx-confirm="Remove action from project? This will not delete the action."
              >
                <input type="hidden" name="action_search" value="{{ action_search }}" />
                <button type="submit" class="button secondary">Unassign</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% from "partials/pagination.html" import render_pagination %}
    {{ render_pagination(pagination, filters, table_endpoint, "#project-actions-table", query_builder, "actions") }}
  {% else %}
    <p class="muted">No actions found for this project.</p>
  {% endif %}
</div>
